<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AlkanSave Login</title>
  <link rel="icon" type="image/png" href="images/logo.svg">
  <link rel="stylesheet" href="css/login.css" />
  <link href="https://fonts.googleapis.com/css2?family=Garet&display=swap" rel="stylesheet" />
  <!-- Security Enhancements -->
  <meta name="autocomplete" content="off">
  <meta name="google" content="noautocomplete">
</head>
<body>
  <div class="login-container">
    <div class="left-section">
      <img src="images/logo.svg" alt="AlkanSave Logo" class="logo-img" />
      <h1 class="brand-title">
        <span class="text-alkan">Alkan</span><span class="text-save">Save</span>
      </h1>
      <h2 class="welcome-title"><span class="text-alkan">WELCOME</span> <span class="text-save">BACK</span></h2>
      <p class="subtagline">Save little, dream big.</p>
    </div>

    <div class="right-section">
      <a href="landing.html" class="back-btn">
        <span class="arrow">&#8592;</span> Back
      </a>

      <div class="form-wrapper">
        <h2 class="form-title">Log In</h2>
        <p class="form-subtitle">Enter your login details below.</p>
  
        <!-- Updated Form with Forgot Password -->
        <form method="POST" action="pages/login.php" class="login-form" autocomplete="off">
          <input type="text" 
                 name="email" 
                 placeholder="Email" 
                 class="input-field"
                 required>
        
          <input type="password" 
                 name="password" 
                 placeholder="Password" 
                 class="input-field"
                 required
                 autocomplete="new-password">
        
          <button type="submit" class="login-btn">Log In</button>
          
          <!-- Added Forgot Password Link -->
          <div class="forgot-password">
            <a href="forgotpass.html">Forgot Password?</a>
          </div>
        </form>
        
        <script>
        // Enhanced error handling
        document.addEventListener('DOMContentLoaded', function() {
          const urlParams = new URLSearchParams(window.location.search);
          const error = urlParams.get('error');
          
          const errors = {
            'missing_fields': 'Please enter both username and password',
            'invalid_credentials': 'Invalid username or password', 
            'database_error': 'System error - please try again'
          };
        
          if (error && errors[error]) {
            alert(errors[error]);
            // Clear error from URL
            history.replaceState({}, '', window.location.pathname);
            
            // Focus on appropriate field
            if (error === 'missing_fields' && !urlParams.get('username')) {
              document.querySelector('input[name="username"]').focus();
            } else {
              document.querySelector('input[name="password"]').focus();
            }
          }
        });
        </script>
      </div>
    </div>
  </div>
</body>
</html>